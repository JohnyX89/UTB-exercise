{"ast":null,"code":"var _jsxFileName = \"/home/bury/UTB/UTB-exercise/src/components/ContractInfo/ContractInfo.tsx\",\n  _s = $RefreshSig$();\nimport { ethers } from \"ethers\";\nimport { useState } from \"react\";\nimport { InfoItem } from \"../AccountInfo/AccountInfo.styled\";\nimport { ButtonBlue } from \"../ButtonBlue\";\nimport { Headline } from \"../Headline\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ContractInfo = () => {\n  _s();\n  const [balance, setBalance] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  let provider;\n  if (window.ethereum !== undefined) {\n    provider = new ethers.providers.Web3Provider(window.ethereum);\n  } else {\n    alert(`Please install Metamask`);\n  }\n  const contractUTB = new ethers.Contract(\"0xeaBf5199C9A7DF84C94e2Cb97EE458ab65Fa42dF\", [\"function totalSupply() view returns(uint256)\", \"function getNumber() view returns (uint256)\", \"function _baseURI() view returns (string memory)\", \"function setBaseURI(string)\", \"function multiply()\"], provider);\n  async function getContractAddressAndBalance() {\n    setAddress(contractUTB.address);\n    const balanceBN = await provider.getBalance(contractUTB.address);\n    setBalance(ethers.utils.formatEther(balanceBN));\n  }\n  async function getNumber() {\n    const number = await contractUTB.getNumber();\n    alert(number);\n  }\n  async function mulitplyNumber() {\n    try {\n      await contractUTB.multiply();\n      getNumber();\n    } catch (e) {\n      alert(e);\n    }\n  }\n  async function getURI() {\n    try {\n      const uri = await contractUTB._baseURI();\n      alert(uri);\n    } catch (e) {\n      alert(e);\n    }\n  }\n  async function updateURI() {\n    try {\n      await contractUTB.setBaseURI();\n    } catch (e) {\n      alert(e);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ButtonBlue, {\n      onClick: () => getContractAddressAndBalance(),\n      children: \"Show contract address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Headline, {\n      children: \"Contract\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), address !== \"\" && /*#__PURE__*/_jsxDEV(InfoItem, {\n      children: [\"Address: \", address]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 26\n    }, this), balance !== \"\" && /*#__PURE__*/_jsxDEV(InfoItem, {\n      children: [\"Balance: \", balance]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(ButtonBlue, {\n      onClick: () => getURI(),\n      children: \"Get URI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonBlue, {\n      onClick: () => updateURI(),\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonBlue, {\n      onClick: () => getNumber(),\n      children: \"Show current number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonBlue, {\n      onClick: () => mulitplyNumber(),\n      children: \"Multiply current number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ContractInfo, \"hu8NY1t0qqB11GNWzfcH9JlSXKo=\");\n_c = ContractInfo;\nexport default ContractInfo;\nvar _c;\n$RefreshReg$(_c, \"ContractInfo\");","map":{"version":3,"names":["ethers","useState","InfoItem","ButtonBlue","Headline","ContractInfo","balance","setBalance","address","setAddress","provider","window","ethereum","undefined","providers","Web3Provider","alert","contractUTB","Contract","getContractAddressAndBalance","balanceBN","getBalance","utils","formatEther","getNumber","number","mulitplyNumber","multiply","e","getURI","uri","_baseURI","updateURI","setBaseURI"],"sources":["/home/bury/UTB/UTB-exercise/src/components/ContractInfo/ContractInfo.tsx"],"sourcesContent":["import { ethers } from \"ethers\";\nimport { useState } from \"react\";\nimport { InfoItem } from \"../AccountInfo/AccountInfo.styled\";\nimport { ButtonBlue } from \"../ButtonBlue\";\nimport { Headline } from \"../Headline\";\n\ndeclare var window: any;\n\nconst ContractInfo = () => {\n  const [balance, setBalance] = useState<string>(\"\");\n  const [address, setAddress] = useState<string>(\"\");\n\n  let provider: any;\n  if ((window as any).ethereum !== undefined) {\n    provider = new ethers.providers.Web3Provider((window as any).ethereum);\n  } else {\n    alert(`Please install Metamask`);\n  }\n\n  const contractUTB = new ethers.Contract(\n    \"0xeaBf5199C9A7DF84C94e2Cb97EE458ab65Fa42dF\",\n    [\n      \"function totalSupply() view returns(uint256)\",\n      \"function getNumber() view returns (uint256)\",\n      \"function _baseURI() view returns (string memory)\",\n      \"function setBaseURI(string)\",\n      \"function multiply()\",\n    ],\n    provider\n  );\n\n  async function getContractAddressAndBalance() {\n    setAddress(contractUTB.address);\n\n    const balanceBN = await provider.getBalance(contractUTB.address);\n    setBalance(ethers.utils.formatEther(balanceBN));\n  }\n\n  async function getNumber() {\n    const number = await contractUTB.getNumber();\n    alert(number);\n  }\n\n  async function mulitplyNumber() {\n    try {\n      await contractUTB.multiply();\n      getNumber();\n    } catch (e) {\n      alert(e);\n    }\n  }\n\n  async function getURI() {\n    try {\n      const uri = await contractUTB._baseURI();\n      alert(uri);\n    } catch (e) {\n      alert(e);\n    }\n  }\n\n  async function updateURI() {\n    try {\n      await contractUTB.setBaseURI();\n    } catch (e) {\n      alert(e);\n    }\n  }\n\n  return (\n    <>\n      <ButtonBlue onClick={() => getContractAddressAndBalance()}>\n        Show contract address\n      </ButtonBlue>\n      <Headline>Contract</Headline>\n      {address !== \"\" && <InfoItem>Address: {address}</InfoItem>}\n      {balance !== \"\" && <InfoItem>Balance: {balance}</InfoItem>}\n\n      <ButtonBlue onClick={() => getURI()}>Get URI</ButtonBlue>\n      <ButtonBlue onClick={() => updateURI()}>Update</ButtonBlue>\n\n      <br />\n\n      <ButtonBlue onClick={() => getNumber()}>Show current number</ButtonBlue>\n      <ButtonBlue onClick={() => mulitplyNumber()}>\n        Multiply current number\n      </ButtonBlue>\n    </>\n  );\n};\n\nexport default ContractInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}